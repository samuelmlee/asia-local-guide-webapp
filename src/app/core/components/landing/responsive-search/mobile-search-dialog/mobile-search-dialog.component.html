<div class="p-6 flex flex-col density-minus-three">
  <h6 class="text-center mb-6" i18n="@@core.mobile-search-dialog.title">
    Configurez votre recherche
  </h6>

  <form (ngSubmit)="submitSearch()">
    <mat-form-field class="w-full mb-4">
      <mat-label i18n="@@core.mobile-search-dialog.input-text"
        >Entrez une destination</mat-label
      >
      <input
        matInput
        type="text"
        minlength="4"
        name="searchQuery"
        [(ngModel)]="searchQuery"
      />
      @if (searchQuery()) {
      <button
        matSuffix
        mat-icon-button
        aria-label="Clear"
        (click)="searchQuery.set('')"
      >
        <mat-icon>close</mat-icon>
      </button>
      }

      <mat-autocomplete #auto="matAutocomplete" [displayWith]="displayFn">
        @for (option of filteredOptions | async; track option) {
        <mat-option [value]="option">{{ option.name }}</mat-option>
        }
      </mat-autocomplete>
    </mat-form-field>

    <mat-form-field class="w-full mb-4">
      <mat-label i18n="@@core.mobile-search-dialog.date-picker-placeholder"
        >Saisissez vos dates</mat-label
      >
      <mat-datepicker-toggle
        matIconSuffix
        [for]="picker"
      ></mat-datepicker-toggle>
      <mat-date-range-input [rangePicker]="picker">
        <input matStartDate [min]="startDate" />
        <input matEndDate />
      </mat-date-range-input>
      <mat-date-range-picker #picker touchUi="true"></mat-date-range-picker>
    </mat-form-field>
  </form>

  <button mat-flat-button [mat-dialog-close]="true" i18n="@@common.search">
    Rechercher
  </button>
</div>
